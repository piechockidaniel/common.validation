@namespace Common.Validation.Blazor

@if (Result is not null && !Result.IsValid)
{
    <div class="cv-validation-summary @AdditionalCssClass">
        @if (Result.HasForbidden)
        {
            <div class="cv-severity-group cv-forbidden">
                <h4 class="cv-severity-title">Forbidden</h4>
                <ul class="cv-error-list">
                    @foreach (var error in Result.BySeverity(severity: Severity.Forbidden))
                    {
                        <li class="cv-error-item">
                            <strong>@error.PropertyName:</strong> @error.ErrorMessage
                        </li>
                    }
                </ul>
            </div>
        }
        @if (Result.HasAtOwnRisk)
        {
            <div class="cv-severity-group cv-at-own-risk">
                <h4 class="cv-severity-title">At Own Risk</h4>
                <ul class="cv-error-list">
                    @foreach (var error in Result.BySeverity(severity: Severity.AtOwnRisk))
                    {
                        <li class="cv-error-item">
                            <strong>@error.PropertyName:</strong> @error.ErrorMessage
                        </li>
                    }
                </ul>
            </div>
        }
        @if (Result.HasNotRecommended)
        {
            <div class="cv-severity-group cv-not-recommended">
                <h4 class="cv-severity-title">Not Recommended</h4>
                <ul class="cv-error-list">
                    @foreach (var error in Result.BySeverity(severity: Severity.NotRecommended))
                    {
                        <li class="cv-error-item">
                            <strong>@error.PropertyName:</strong> @error.ErrorMessage
                        </li>
                    }
                </ul>
            </div>
        }
    </div>
}

@code {
    /// <summary>
    /// The validation result to display.
    /// </summary>
    [Parameter]
    public ValidationResult? Result { get; set; }

    /// <summary>
    /// Optional additional CSS class to apply to the summary container.
    /// </summary>
    [Parameter]
    public string? AdditionalCssClass { get; set; }
}
